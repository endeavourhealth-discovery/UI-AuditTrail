{"__symbolic":"module","version":4,"metadata":{"AbstractMenuProvider":{"__symbolic":"class","members":{"getClientId":[{"__symbolic":"method"}],"getMenuOptions":[{"__symbolic":"method"}],"getApplicationTitle":[{"__symbolic":"method"}]}},"LayoutModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":18,"character":1},"arguments":[{"imports":[{"__symbolic":"reference","module":"@angular/platform-browser","name":"BrowserModule","line":20,"character":4},{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":21,"character":4},{"__symbolic":"reference","module":"@angular/material","name":"MatSidenavModule","line":22,"character":4},{"__symbolic":"reference","module":"@angular/material","name":"MatRadioModule","line":23,"character":4},{"__symbolic":"reference","module":"@angular/forms","name":"ReactiveFormsModule","line":24,"character":4},{"__symbolic":"reference","module":"@angular/material","name":"MatButtonModule","line":25,"character":4},{"__symbolic":"reference","module":"@angular/material","name":"MatSlideToggleModule","line":26,"character":4},{"__symbolic":"reference","module":"@angular/forms","name":"FormsModule","line":27,"character":4},{"__symbolic":"reference","module":"@angular/material","name":"MatIconModule","line":28,"character":4},{"__symbolic":"reference","module":"@angular/material","name":"MatListModule","line":29,"character":4},{"__symbolic":"reference","module":"@angular/router","name":"RouterModule","line":30,"character":4},{"__symbolic":"reference","module":"@angular/material","name":"MatMenuModule","line":31,"character":4},{"__symbolic":"reference","module":"@angular/material","name":"MatToolbarModule","line":32,"character":4},{"__symbolic":"reference","module":"@angular/material","name":"MatBadgeModule","line":33,"character":4},{"__symbolic":"reference","module":"@angular/material/progress-spinner","name":"MatProgressSpinnerModule","line":34,"character":4}],"declarations":[{"__symbolic":"reference","name":"LayoutComponent"}],"entryComponents":[{"__symbolic":"reference","name":"LayoutComponent"}]}]}],"members":{}},"LayoutComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":13,"character":1},"arguments":[{"selector":"app-root","template":"<div class=\"side-nav\" (mouseenter)=\"expand()\" (mouseleave)=\"collapse()\" [class.collapsed]=\"!(open||pinned)\" [class.pinned]=\"pinned\">\r\n  <div class=\"logo-container\">\r\n    <img class=\"logo\">\r\n    <span class=\"title\" *ngIf=\"open || pinned\">DISCOVERY</span>\r\n    <button mat-button class=\"toggle\" *ngIf=\"open || pinned\" (click)=\"togglePin()\">\r\n      <mat-icon>{{pinIcon}}</mat-icon>\r\n    </button>\r\n  </div>\r\n  <div class=\"nav-user flex-center\">\r\n    <img class=\"avatar\" [src]=\"user?.photo\" [class.default-avatar]=\"user == null || user.photo == null\">\r\n    <div class=\"user-details\">\r\n      <h4>{{user?.forename}} {{user?.surname}}</h4>\r\n      <h5>{{user?.email}}</h5>\r\n      <div class=\"actions flex-center\">\r\n        <button mat-button>\r\n          <mat-icon>account_box</mat-icon>\r\n        </button>\r\n        <button mat-button>\r\n          <mat-icon>settings</mat-icon>\r\n        </button>\r\n        <button mat-button (click)=\"logout()\">\r\n          <mat-icon>exit_to_app</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"nav-entries\">\r\n    <button mat-button *ngFor=\"let item of menuItems\" [routerLink]=\"item.state\" [disabled]=\"!item.access\">\r\n      <mat-icon>{{item.icon}}</mat-icon>\r\n      <span *ngIf=\"open || pinned\" [matBadge]=\"item.badge\" matBadgePosition=\"after\" matBadgeColor=\"accent\" matBadgeOverlap=\"false\"> {{item.caption}}</span>\r\n    </button>\r\n  </div>\r\n\r\n</div>\r\n<div class=\"nav-content\" [class.pinned]=\"pinned\">\r\n  <div class=\"layout-header\">\r\n    <mat-toolbar>\r\n      <span class=\"title\">{{title}}</span>\r\n      <span class=\"toolbar-fill\"></span>\r\n\r\n<!--      <button mat-button>\r\n        <mat-icon matBadge=\"13\" matBadgePosition=\"above after\" matBadgeColor=\"accent\">format_list_bulleted</mat-icon>\r\n      </button>-->\r\n\r\n      <button mat-button *ngIf=\"currentProject\" [matMenuTriggerFor]=\"projects\">\r\n        <mat-icon>work</mat-icon> {{currentProject.projectName}} <small>({{currentProject.organisationName}})</small>\r\n      </button>\r\n      <mat-menu #projects=\"matMenu\" xPosition=\"before\">\r\n        <button *ngFor=\"let item of userProjects\" mat-menu-item (click)=\"switchProject(item)\" [ngClass]=\"{'mat-flat-button mat-accent': (item.id==currentProject.id)}\">\r\n          <mat-icon (click)=\"setDefault(item)\">{{item.default ? 'star' : 'star_border'}}</mat-icon> <span>{{item.projectName}} <small>({{item.organisationName}})</small></span>\r\n        </button>\r\n      </mat-menu>\r\n\r\n\r\n      <button mat-button [matMenuTriggerFor]=\"menu\">\r\n        <img class=\"avatar\" [src]=\"(user?.photo == null) ? 'avatar.png' : user?.photo\">\r\n        <span class=\"name\">{{user?.forename}} {{user?.surname}}</span>\r\n        <mat-icon>keyboard_arrow_down</mat-icon>\r\n      </button>\r\n\r\n      <mat-menu #menu=\"matMenu\" xPosition=\"before\">\r\n        <button mat-menu-item><mat-icon>account_box</mat-icon>Profile</button>\r\n        <button mat-menu-item [matMenuTriggerFor]=\"themeMenu\"><mat-icon>format_paint</mat-icon>Theme</button>\r\n        <button mat-menu-item><mat-icon>settings</mat-icon>Settings</button>\r\n        <button mat-menu-item (click)=\"logout()\"><mat-icon>exit_to_app</mat-icon>Logout</button>\r\n      </mat-menu>\r\n      <mat-menu #themeMenu=\"matMenu\">\r\n        <button mat-menu-item (click)=\"onSetTheme('default-theme')\">Default</button>\r\n        <button mat-menu-item (click)=\"onSetTheme('dark-theme')\">Dark</button>\r\n        <button mat-menu-item (click)=\"onSetTheme('teal-theme')\">Teal</button>\r\n      </mat-menu>\r\n\r\n    </mat-toolbar>\r\n  </div>\r\n  <div class=\"layout-body\">\r\n    <router-outlet>\r\n      <div *ngIf=\"user==null\" class=\"flex\" fxLayout=\"row wrap\" fxLayout.xs=\"column\" fxLayoutGap=\"16px grid\" fxLayoutAlign=\"start\">\r\n        <div class=\"flex-center\" fxFill fxFlex=\"100\">\r\n          <mat-spinner></mat-spinner>\r\n        </div>\r\n      </div>\r\n    </router-outlet>\r\n  </div>\r\n</div>\r\n","styles":[".side-nav{float:left;position:absolute;height:100%;transition-property:transform,width,min-width,max-width,opacity;transition-duration:150ms;transition-timing-function:ease-in-out;overflow-x:hidden;white-space:nowrap;z-index:100;min-width:280px;max-width:280px}.side-nav.collapsed{min-width:64px;max-width:64px}.logo-container{height:64px;position:relative}.logo-container .title{position:absolute;top:50%;left:48px;transform:translate(0,-50%);font-weight:300}.logo-container .toggle{position:absolute;top:50%;right:8px;width:32px;height:32px;min-width:32px;transform:translate(0,-50%)}.logo-container .toggle .mat-icon{font-size:12px;vertical-align:unset}.logo{transition-property:transform,width,height,padding;transition-duration:150ms;transition-timing-function:ease-in-out;width:24px;height:24px;padding:20px 16px;border-radius:50%}.collapsed .logo{width:40px!important;height:40px!important;padding:12px!important}.mat-button{padding:0}.layout-header{width:100%;height:64px}.layout-header .avatar{width:32px;height:32px}.layout-header .title{padding:16px}.layout-header .name{margin:0 8px 0 10px}.layout-header .mat-toolbar{padding:0}.layout-header .mat-button{height:100%;padding:12px;border-radius:0;border-left:1px solid rgba(0,0,0,.08)}.toolbar-fill{flex:1 1 auto}.user-details{text-align:center;transition-property:transform,opacity;transition-duration:150ms;transition-timing-function:ease-in-out}.collapsed .user-details{opacity:0}.avatar{width:64px;height:64px;border-radius:50%;margin-bottom:0;transition-property:transform,width,height,opacity,margin-bottom;transition-duration:150ms;transition-timing-function:ease-in-out}.collapsed .avatar{width:48px!important;height:48px!important;border-radius:50%;margin-bottom:16px}.nav-content{margin-left:64px;height:100%}.nav-content.pinned{margin-left:280px;height:100%}.nav-entries{padding:18px}.nav-entries button{width:100%;text-align:left;display:flex;font-weight:200}.nav-entries mat-icon{padding-right:16px}.layout-body{padding:16px;height:calc(100% - 96px);overflow-y:auto}.nav-user{padding:8px 0;flex-direction:column}.nav-user button{width:32px;height:32px;min-width:32px}.nav-user .mat-icon{font-size:18px}.nav-user h4,.nav-user h5{margin:4px;font-weight:400}"]}]}],"members":{"componentCssClass":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"HostBinding","line":19,"character":3},"arguments":["class"]}]}],"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"AbstractMenuProvider"},{"__symbolic":"reference","name":"UserManagerService"},{"__symbolic":"reference","module":"@angular/router","name":"Router","line":34,"character":30},{"__symbolic":"reference","module":"@angular/cdk/overlay","name":"OverlayContainer","line":35,"character":39},{"__symbolic":"reference","name":"CanActivateRouteGuard"},{"__symbolic":"reference","name":"LoggerService"}]}],"ngOnInit":[{"__symbolic":"method"}],"setMenuOptionAccess":[{"__symbolic":"method"}],"onProjectChange":[{"__symbolic":"method"}],"getUserProfile":[{"__symbolic":"method"}],"setUserProfile":[{"__symbolic":"method"}],"expand":[{"__symbolic":"method"}],"collapse":[{"__symbolic":"method"}],"togglePin":[{"__symbolic":"method"}],"logout":[{"__symbolic":"method"}],"onSetTheme":[{"__symbolic":"method"}],"switchProject":[{"__symbolic":"method"}],"setDefault":[{"__symbolic":"method"}]}},"MenuOption":{"__symbolic":"class","members":{}},"SecurityModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":7,"character":1},"arguments":[{"imports":[{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":9,"character":4},{"__symbolic":"reference","module":"@angular/material/card","name":"MatCardModule","line":10,"character":4},{"__symbolic":"reference","module":"@angular/material/icon","name":"MatIconModule","line":11,"character":4}],"providers":[{"__symbolic":"reference","name":"CanActivateRouteGuard"}],"declarations":[{"__symbolic":"reference","name":"ɵa"}],"entryComponents":[{"__symbolic":"reference","name":"ɵa"}]}]}],"members":{}},"CanActivateRouteGuard":{"__symbolic":"class","extends":{"__symbolic":"reference","module":"keycloak-angular","name":"KeycloakAuthGuard","line":10,"character":43},"decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":7,"character":1},"arguments":[{"providedIn":"root"}]}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@angular/router","name":"Router","line":22,"character":32},{"__symbolic":"reference","module":"keycloak-angular","name":"KeycloakService","line":23,"character":41},{"__symbolic":"reference","name":"UserManagerService"},{"__symbolic":"reference","name":"LoggerService"}]}],"isAccessAllowed":[{"__symbolic":"method"}],"checkRoleAccess":[{"__symbolic":"method"}],"checkCurrentAccess":[{"__symbolic":"method"}]},"statics":{"ngInjectableDef":{}}},"LoggerModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":6,"character":1},"arguments":[{"declarations":[],"imports":[{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":9,"character":4}],"providers":[{"__symbolic":"reference","name":"LoggerService"}]}]}],"members":{}},"LoggerService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":3,"character":1},"arguments":[{"providedIn":"root"}]}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@angular/material/snack-bar","name":"MatSnackBar","line":7,"character":32}]}],"info":[{"__symbolic":"method"}],"success":[{"__symbolic":"method"}],"error":[{"__symbolic":"method"}],"debug":[{"__symbolic":"method"}],"trace":[{"__symbolic":"method"}]},"statics":{"ngInjectableDef":{}}},"UserManagerModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":6,"character":1},"arguments":[{"imports":[{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":8,"character":8}],"declarations":[],"providers":[{"__symbolic":"reference","name":"UserManagerService"},{"provide":{"__symbolic":"reference","module":"@angular/common/http","name":"HTTP_INTERCEPTORS","line":14,"character":17},"useClass":{"__symbolic":"reference","name":"ɵb"},"multi":true}]}]}],"members":{}},"UserManagerService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":11,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@angular/common/http","name":"HttpClient","line":20,"character":28},{"__symbolic":"reference","module":"keycloak-angular","name":"KeycloakService","line":21,"character":39},{"__symbolic":"reference","name":"AbstractMenuProvider"}]}],"getUserProfile":[{"__symbolic":"method"}],"getUserProjects":[{"__symbolic":"method"}],"getSelectedProject":[{"__symbolic":"method"}],"setSelectedProject":[{"__symbolic":"method"}],"getUserRegion":[{"__symbolic":"method"}],"changeDefaultProject":[{"__symbolic":"method"}],"checkRoleAccess":[{"__symbolic":"method"}],"logout":[{"__symbolic":"method"}],"loadUserProfile":[{"__symbolic":"method"}],"loadUserProjects":[{"__symbolic":"method"}],"setUserProjects":[{"__symbolic":"method"}]}},"CoreModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":6,"character":1},"arguments":[{"declarations":[],"imports":[{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":9,"character":4}],"providers":[{"__symbolic":"reference","name":"StateService"}]}]}],"members":{}},"StateService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":2,"character":1},"arguments":[{"providedIn":"root"}]}],"members":{"__ctor__":[{"__symbolic":"constructor"}],"get":[{"__symbolic":"method"}],"set":[{"__symbolic":"method"}]},"statics":{"ngInjectableDef":{}}},"ɵa":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":2,"character":1},"arguments":[{"selector":"dds-access-denied","template":"<mat-card>\r\n  <mat-card-header>\r\n    <div mat-card-avatar><mat-icon color=\"warn\">block</mat-icon></div>\r\n    <mat-card-title>Access denied!</mat-card-title>\r\n    <mat-card-subtitle>User account does not have access to this module</mat-card-subtitle>\r\n  </mat-card-header>\r\n  <mat-card-content>\r\n    <p>Your user account is not configured for access to this module.  If you believe this is incorrect, please contact your system administrator.</p>\r\n  </mat-card-content>\r\n</mat-card>\r\n","styles":[""]}]}],"members":{"__ctor__":[{"__symbolic":"constructor"}],"ngOnInit":[{"__symbolic":"method"}]}},"ɵb":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":5,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"UserManagerService"}]}],"intercept":[{"__symbolic":"method"}]}}},"origins":{"AbstractMenuProvider":"./lib/layout/menuProvider.service","LayoutModule":"./lib/layout/layout.module","LayoutComponent":"./lib/layout/layout.component","MenuOption":"./lib/layout/models/MenuOption","SecurityModule":"./lib/security/security.module","CanActivateRouteGuard":"./lib/security/can-activate-route.guard","LoggerModule":"./lib/logger/logger.module","LoggerService":"./lib/logger/logger.service","UserManagerModule":"./lib/user-manager/user-manager.module","UserManagerService":"./lib/user-manager/user-manager.service","CoreModule":"./lib/core/core.module","StateService":"./lib/core/state.service","ɵa":"./lib/security/access-denied/access-denied.component","ɵb":"./lib/user-manager/user-project-http-interceptor"},"importAs":"dds-angular8"}